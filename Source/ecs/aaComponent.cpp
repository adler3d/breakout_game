// This is an independent project of an individual developer. Dear PVS-Studio, please check it.
// PVS-Studio Static Code Analyzer for C, C++, C#, and Java: http://www.viva64.com
#include "aaComponent.h"
#include "aaActor.h"
#include "aaContainer.h"


///-------------------------------------------------------------------------
using namespace ecs;
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Constructor
///
///
///-------------------------------------------------------------------------
AComponent::AComponent() noexcept
{



}
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Destructor
///
///
///-------------------------------------------------------------------------
AComponent::~AComponent()
{


}
///-------------------------------------------------------------------------






 ///------------------------------------------------------------------------
///
///
///
/// 
///
///
///-------------------------------------------------------------------------
void AComponent :: setActor(std::weak_ptr<AActor> parent) noexcept
{
    mParent = std::move(parent);
}
///-------------------------------------------------------------------------






 ///------------------------------------------------------------------------
///
///
/// внимание вы не должны ударживать родителя, 
/// и наче он не сожмет удалится корректно
///
///
///-------------------------------------------------------------------------
std::shared_ptr<AActor> AComponent ::getActor() const noexcept
{
    return mParent.lock();
}
///-------------------------------------------------------------------------




 ///------------------------------------------------------------------------
///
///
/// 
/// возвратим текущий контейнер
///
///-------------------------------------------------------------------------
AContainer* AComponent:: getContainer() const noexcept
{
    if (auto actor = mParent.lock())
    {
        return actor->getContainer();
    }
    return nullptr;
}
///-------------------------------------------------------------------------


